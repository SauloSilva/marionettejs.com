@mixin columns ( $columns, $margin ) {
  &.column-#{$columns} > * {
    max-width: calc( 100% / #{$columns} - #{$margin} );
  }
}

@mixin stretch ( $columns ) {
  .stretch-#{$columns} {
    flex-grow: $columns;
    max-width: none;
  }
}

section > header,
.row {
  margin-bottom: 1rem;
}

section > header {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  width: 100%;
}

.row {
  display: flex;
  flex-grow: 1;
  flex-shrink: 0;
  margin: 0 -1rem 1rem;
  width: 100%;

  > * {
    flex-grow: 1;
    margin: 0 1rem;
  }

  &[class *= column-] > * {
    min-width: 15rem;
  }

  @include columns ( 2, 2rem );
  @include columns ( 3, 2rem );
  @include columns ( 4, 2rem );

  @include stretch ( 2 );
  @include stretch ( 3 );
  @include stretch ( 4 );
}
